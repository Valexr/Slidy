import{S as f,i as _,s as g,a3 as w,a as k,k as y,T as b,h as c,c as $,l as v,m as M,n as S,b as d,a4 as x,f as u,t as m,A as l,v as E,w as A,x as C,y as I}from"../../../chunks/index-b57ea404.js";import{S as j,F as q}from"../../../chunks/slidy-f86971b1.js";const B=(t,a)=>Math.floor(Math.random()*(a-t+1))+t,P=(t,a,n)=>Math.min(Math.max(t,a),n),R=async({limit:t=5,page:a=1,width:n=1280,height:s=800})=>{let o=[];try{const e=`https://picsum.photos/v2/list?limit=${t}&page=${a}`;o=await(await fetch(e,{mode:"cors"})).json()}catch(e){console.error(`Could not fetch photos: ${e}`)}return o.map(e=>{const r=T({width:e.width,height:e.height},{width:n,height:s});return{id:e.id,...r,alt:`Image by ${e.author}`,src:`https://picsum.photos/id/${e.id}/${r.width}/${r.height}.jpg`}})},T=(t,a)=>{const n=Math.min(a.width/t.width,a.height,t.height);return{width:Math.round(t.width*n),height:Math.round(t.height*n)}},p=Boolean(globalThis.window),F=(t,a=new Set)=>{const n=e=>(a.add(e),e(t),()=>(a.delete(e),void 0)),s=e=>a.forEach(r=>r(e));return[n,e=>s(t=e(t))]},K=p&&matchMedia("(prefers-color-scheme: dark)").matches,[N,U]=F(K);N(t=>{!p||document.documentElement.setAttribute("scheme",t?"dark":"light")});let h=[];async function z(t=50){h=await R({limit:P(t,3,10),page:B(0,100)})}async function D(t=10){return h.length||await z(),h.sort(()=>.5-Math.random()).slice(0,t)}function G(t){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function H(t){let a,n;return a=new j({props:{animation:q,duration:450,gravity:1.45,snap:"center",thumbnail:!0,index:4,slides:t[0],arrows:!0}}),{c(){E(a.$$.fragment)},l(s){A(a.$$.fragment,s)},m(s,o){C(a,s,o),n=!0},p:l,i(s){n||(u(a.$$.fragment,s),n=!0)},o(s){m(a.$$.fragment,s),n=!1},d(s){I(a,s)}}}function J(t){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function L(t){let a,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:J,then:H,catch:G,value:0,blocks:[,,,]};return w(D(10),o),{c(){a=k(),n=y("main"),o.block.c(),this.h()},l(e){b('[data-svelte="svelte-r068pv"]',document.head).forEach(c),a=$(e),n=v(e,"MAIN",{class:!0});var i=M(n);o.block.l(i),i.forEach(c),this.h()},h(){document.title="Slidy 3.1.0 - SvelteKit",S(n,"class","svelte-gogyl2")},m(e,r){d(e,a,r),d(e,n,r),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null,s=!0},p(e,[r]){t=e,x(o,t,r)},i(e){s||(u(o.block),s=!0)},o(e){for(let r=0;r<3;r+=1){const i=o.blocks[r];m(i)}s=!1},d(e){e&&c(a),e&&c(n),o.block.d(),o.token=null,o=null}}}class V extends f{constructor(a){super(),_(this,a,null,L,g,{})}}export{V as default};
