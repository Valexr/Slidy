import{S as w,i as y,s as k,a3 as b,a as v,k as $,T as M,h as i,c as S,l as x,m as P,n as A,b as m,a4 as E,f as p,t as f,A as l,v as I,w as R,x as C,y as T}from"../../../chunks/index-7c52a698.js";import{S as q,F as B}from"../../../chunks/slidy-8848b056.js";const h=(t,n)=>Math.floor(Math.random()*(n-t+1))+t,N=(t,n,a)=>Math.min(Math.max(t,n),a),F=async({limit:t=5,page:n=1,width:a=1280,height:s=800})=>{let o=[];try{o=await K({width:a,height:s},t)}catch(e){console.error(`Could not fetch photos: ${e}`)}return o.map(e=>{const r=U({width:e.width,height:e.height},{width:a,height:s});return{id:e.id,...r,alt:`Image by ${e.author}`,src:e.src}})};function K(t,n){return new Promise((a,s)=>{const o=[...Array(n).keys()].map(e=>{const r=g=>Math.round(g*devicePixelRatio),c=h(r(t.width),r(t.height)),d=h(r(t.height),r(t.width));return{id:e,author:"Unsplash",width:c,height:d,src:`https://source.unsplash.com/random/${c}x${d}`}});o.length===n?setTimeout(()=>a(o),500):s("No photos")})}const U=(t,n)=>{const a=Math.min(n.width/t.width,n.height,t.height);return{width:Math.round(t.width*a),height:Math.round(t.height*a)}},_=Boolean(globalThis.window),j=(t,n=new Set)=>{const a=e=>(n.add(e),e(t),()=>(n.delete(e),void 0)),s=e=>n.forEach(r=>r(e));return[a,e=>s(t=e(t))]},D=_&&matchMedia("(prefers-color-scheme: dark)").matches,[G,Y]=j(D);G(t=>{!_||document.documentElement.setAttribute("scheme",t?"dark":"light")});let u=[];async function H(t=10){u=await F({limit:N(3,t,10),page:h(0,100)})}async function J(t=10){return u.length||await H(),u.sort(()=>.5-Math.random()).slice(0,t)}function L(t){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function O(t){let n,a;return n=new q({props:{animation:B,duration:450,gravity:1.45,snap:"center",thumbnail:!0,index:4,slides:t[0],arrows:!0}}),{c(){I(n.$$.fragment)},l(s){R(n.$$.fragment,s)},m(s,o){C(n,s,o),a=!0},p:l,i(s){a||(p(n.$$.fragment,s),a=!0)},o(s){f(n.$$.fragment,s),a=!1},d(s){T(n,s)}}}function Q(t){return{c:l,l,m:l,p:l,i:l,o:l,d:l}}function V(t){let n,a,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Q,then:O,catch:L,value:0,blocks:[,,,]};return b(J(10),o),{c(){n=v(),a=$("main"),o.block.c(),this.h()},l(e){M('[data-svelte="svelte-r068pv"]',document.head).forEach(i),n=S(e),a=x(e,"MAIN",{class:!0});var c=P(a);o.block.l(c),c.forEach(i),this.h()},h(){document.title="Slidy 3.1.0 - SvelteKit",A(a,"class","svelte-gogyl2")},m(e,r){m(e,n,r),m(e,a,r),o.block.m(a,o.anchor=null),o.mount=()=>a,o.anchor=null,s=!0},p(e,[r]){t=e,E(o,t,r)},i(e){s||(p(o.block),s=!0)},o(e){for(let r=0;r<3;r+=1){const c=o.blocks[r];f(c)}s=!1},d(e){e&&i(n),e&&i(a),o.block.d(),o.token=null,o=null}}}class Z extends w{constructor(n){super(),y(this,n,null,V,k,{})}}export{Z as default};
