"use strict";var Slidy=(()=>{var Y=Object.defineProperty;var Nt=Object.getOwnPropertyDescriptor;var qt=Object.getOwnPropertyNames;var Pt=Object.prototype.hasOwnProperty;var Ct=(t,n,e)=>n in t?Y(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var R=(t,n)=>{for(var e in n)Y(t,e,{get:n[e],enumerable:!0})},Dt=(t,n,e,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of qt(n))!Pt.call(t,a)&&a!==e&&Y(t,a,{get:()=>n[a],enumerable:!(s=Nt(n,a))||s.enumerable});return t};var Xt=t=>Dt(Y({},"__esModule",{value:!0}),t);var et=(t,n,e)=>(Ct(t,typeof n!="symbol"?n+"":n,e),e);var Wt={};R(Wt,{animation:()=>Z,easing:()=>G,element:()=>q,media:()=>B});function O(t,n,e){return Math.min(e,Math.max(t,n))}function H(t,n,e,s,a){return e?r=>{s||(t(r),s=!0,clearTimeout(a),a=setTimeout(()=>s=!1,n))}:r=>t(r)}function S(t,n){for(let e=0;e<t.length;e++)n(t[e],e);return t}function st(t){return new Promise((n,e)=>{let s=0,a=setInterval(()=>{s++,s>=69?(clearInterval(a),e("few slides")):t.children.length>1&&(clearInterval(a),n(Ut(t)))},16)})}function Ut(t){return S(t.children,(n,e)=>n.index=e)}function Q(t,n,e){let s=t.children.length;return n.loop?(e+s)%s:O(0,e,s-1)}function X(t,n){if(t.type==="wheel")return Math.abs(t.deltaX)>=Math.abs(t.deltaY)?t.deltaX:t.shiftKey||n.axis==="y"?t.deltaY:0;{let e=s=>s.touches&&s.touches[0]||s;return n.axis==="y"?e(t).pageY:e(t).pageX}}function L(t,n,e){t.dispatchEvent(new CustomEvent(n,{detail:e}))}function N(t,n,e=!0){S(n,s=>{let a=e?"addEventListener":"removeEventListener",[r,b,f]=s;t[a](r,b,f)})}function ot(t,n){let e=[...t.children],s=e.length,a=[...Array(s).keys()],r=s-1,b=Math.floor(s/2),f=e[1].offsetTop-e[0].offsetTop,g=f?"offsetTop":"offsetLeft",m=f?"offsetHeight":"offsetWidth",i=Math.sign(e[r][g]),d=s>1?e[r][g]*i-e[r-1][g]*i-e[r-Math.max(i,0)][m]:0,k=T(i<0?r:0,"start"),w=T(i<0?0:r,"end"),M=Math.abs(w-k)>d*2,$=n.loop?!1:(i<0?n.index===r:!n.index)&&n.direction<=0&&n.position<k||(i<0?!n.index:n.index===r)&&n.direction>0&&n.position>w;function T(c,x=n.snap){let l=I=>e.find(A=>A.index===I)||e[0],u=I=>t[m]-l(I)[m],C=l(c)[m]+d*2<t[m]?n.indent:u(c)/2/d||0,U=z(c,x)<=z(i<0?r:0,"start"),h=z(c,x)>=z(i<0?0:r,"end"),W=U?"start":h?"end":n.snap;return z(c,n.snap&&n.snap!=="deck"&&!n.loop?W:x);function z(I,A){let K=A==="start"?0:A==="end"?1:.5,_=A==="start"?-C:A==="end"?C:0;return l(I)[g]-u(I)*K+d*_}}return{end:w,start:k,edges:$,distance:T,scrollable:M,index(c){let x=l=>Math.abs(T(l)-c);return a.reduce((l,u)=>x(u)<x(l)?u:l,0)},position(c=n.loop){if(c){let x=n.index,l=e.slice(x-b).concat(e.slice(0,x-b));t.replaceChildren(...l)}return M?T(n.index):0},swap(c){let x=s%c?Math.sign(-c):c,l=x>0?0:r;return l?t.prepend(e[l]):t.append(e[l]),(e[l][m]+d)*(x*i)},animate(){S(e,(c,x)=>{c.i=x,c.active=n.loop?b:n.index,c.size=c[m]+d,c.dist=T(c.index),c.track=n.position-c.dist,c.turn=O(-1,c.track/c.size,1),c.exp=O(0,(c.size-Math.abs(c.track))/c.size,1);let l=n.snap==="deck"?c.dist:n.position,u=f?`translateY(${-l}px)`:`translateX(${-l}px)`,P=n.animation?n.animation({node:t,child:c,options:Object.assign(n,{vertical:f,reverse:i}),translate:u}):{transform:u};Object.assign(c.style,P)})}}}function V(t,n){let e={index:0,clamp:0,indent:1,sensity:5,gravity:1.2,duration:375,animation:void 0,easing:void 0,snap:void 0,axis:void 0,loop:!1,...n},s=0,a=0,r=0,b=0,f=0,g=!1,m,i=s=e.index,d=e.position,k=e.duration/2,w=e.sensity,M=e.gravity,$=e.clamp,T=[["touchmove",z,{passive:!1}],["mousemove",z],["touchend",I],["mouseup",I]],c=[["wheel",K,{passive:!1,capture:!0}]],x=[["touchstart",W,{passive:!1}],["mousedown",W],["keydown",_],["contextmenu",()=>h(i)],["dragstart",o=>o.preventDefault()]],l=new ResizeObserver(o=>{h(i),d=u().position(!1),L(t,"resize",{ROE:o})});function u(){return ot(t,e)}function P(o,p){return e.axis==="y"&&o.type==="touchmove"?!u().edges:Math.abs(p)>=w}st(t).then(()=>{t.style.outline="0",t.style.overflow="hidden",t.style.userSelect="none",t.onwheel=H(A,k,$),d=u().position(),l.observe(t),N(t,x),N(window,c),L(t,"mount",{options:e})}).catch(o=>console.error("Slidy:",o));function C(o,p){e.direction=Math.sign(o),d+=v(o),d=e.position=E(d),i=e.index=u().index(d),M=u().edges?1.8:e.gravity,w=0,u().animate(),L(t,"move",{index:i,position:d});function v(y){return i-s&&(y-=e.loop?u().swap(i-s):0,s=i,L(t,"index",{index:p})),u().scrollable?y:0}function E(y){let F=O(u().start,y,u().end);return!e.snap&&!e.loop?F:y}}function U(o,p){let v=performance.now(),y=e.snap||e.loop||u().edges?u().distance(o):O(u().start,d+p,u().end),F=k*O(1,Math.abs(o-s),2);p=y-d,requestAnimationFrame(function j(){let Lt=v-performance.now(),tt=Math.exp(Lt/F),Ft=e.easing?e.easing(tt):tt,nt=p*Ft,St=(e.loop?u().distance(o):y)-d-nt;C(St,o),Math.round(nt)?r=requestAnimationFrame(j):(w=e.sensity,D())})}function h(o=0){D(),o=Q(t,e,o);let p=u().distance(o)-d;U(o,p)}function W(o){D(),w=e.sensity,a=X(o,e),b=o.timeStamp,f=0,N(window,T),!u().edges&&o.stopPropagation()}function z(o){let p=(a-X(o,e))*(2-M),v=o.timeStamp-b,E=1e3*p/(M+v);b=o.timeStamp,a=X(o,e),f=(2-M)*E+(M-1)*f,window.onscroll=()=>{h(i),M=2},P(o,p)&&(C(p,i),o.preventDefault())}function I(){D();let o=f*(2-M),p=u().index(d+o);U(v(p,e),o);function v(E,y){let F=$*y.direction;return E=$&&E-s?i+F:E,Q(t,y,E)}}function A(o){D();let p=X(o,e)*(2-M),v=i+Math.sign(p)*($||1),E=$||o.shiftKey,y=u().edges?p/5:p,F=E?v:i,j=E?0:k/2;!E&&P(o,y)&&C(y,i),m=(e.snap||E)&&P(o,y)?setTimeout(()=>h(F),j):void 0,!u().edges&&o.stopPropagation()}function K(o){o.composedPath().includes(t)&&((Math.abs(o.deltaX)>=Math.abs(o.deltaY)||o.shiftKey||e.axis==="y"&&!u().edges)&&o.preventDefault(),o.shiftKey!==g&&(t.onwheel=H(A,k,o.shiftKey),g=o.shiftKey))}function _(o){let p=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],v=(p.indexOf(o.key)%2-1||1)*($||1);p.indexOf(o.key)>=0&&(h(i+v),o.preventDefault()),L(t,"keys",o.key)}function D(){clearTimeout(m),cancelAnimationFrame(r),N(window,T,!1)}function It(o){S(Object.entries(o),([p,v])=>{if(v!==e[p]){switch(p){case"index":i=e[p]=Q(t,e,v),h(i);break;case"gravity":M=e[p]=O(0,v,2);break;case"duration":e[p]=v,k=v/2;break;case"sensity":w=e[p]=v;break;case"clamp":$=e[p]=v,t.onwheel=H(A,k,v);break;default:e[p]=v,d=e.position=u().position(!1),h(i);break}L(t,"update",o)}})}function zt(){D(),l.disconnect(),N(t,x,!1),N(window,c,!1),L(t,"destroy",t)}return{update:It,destroy:zt,to:h}}var J={index:0,clamp:0,indent:1,sensity:5,gravity:1.2,duration:375,animation:void 0,easing:void 0,snap:void 0,axis:void 0,loop:!1};function at(t){return!isNaN(t)||["true","false"].includes(t)?JSON.parse(t):t}var q=class extends HTMLElement{slidy;_options;constructor(){super(),this.setUpAccessors(),this._options={}}set options(n){this._options=n}get options(){return this._options}setUpAccessors(){this.getAttributeNames().forEach(n=>{Object.defineProperty(this,n,{set:e=>this.setAttribute(n,e),get:()=>this.getAttribute(n)})})}connectedCallback(){let n=this.getAttributeNames().reduce((e,s)=>{let a=this[s];return s in J&&a&&(e[s]=at(a)),e},{});this.isConnected&&(console.log(this.options,n),this.slidy=V(this,{...this.options,...n}))}attributeChangedCallback(n,e,s){let a={[n]:s};this.slidy?.update(a)}};et(q,"observedAttributes",Object.keys(J));customElements.define("slidy-element",q);var Z={};R(Z,{blur:()=>ct,deck:()=>xt,fade:()=>it,flip:()=>bt,matrix:()=>lt,perspective:()=>mt,rotate:()=>pt,scale:()=>ut,shade:()=>rt,shuffle:()=>ft,stairs:()=>vt,translate:()=>dt});var it=({child:t,translate:n})=>({opacity:t.exp,transform:n}),rt=({child:t,translate:n})=>{let e=t.i===t.active,s=Math.abs(t.track)<=t.size,a=e?0:1,r=`${t.track/.5}px, 0`;return t.index===4&&console.log(t.index,s),{transform:e?`${n} translate(${r})`:n,zIndex:a}},ct=({child:t,translate:n})=>{let s=t.i===t.active?t.active:t.i>t.active?t.active-t.i:t.i-t.active;return{opacity:t.exp,filter:`blur(${1-t.exp}ex`,transform:n,zIndex:s}},ut=({child:t,translate:n})=>({transform:`${n} scale(${t.exp})`}),pt=({child:t,options:n,translate:e})=>{let a=t.index===n.index?0:-1;return{transform:`${e} rotate(${t.turn}turn)`,zIndex:a}},mt=({child:t,translate:n})=>({transform:`${n} perspective(${-t.turn}px)`}),ft=({node:t,child:n,options:e,translate:s})=>{let a=Math.sign(n.track),r=Math.abs(n.track)<n.size&&n.i===n.active,f=Math.abs(n.track)<n.size/2?-n.track:Math.abs(n.track)-n.size,g=e.vertical?`0, ${-n.track}px`:`${f}px, ${a}px`,m=n.i===n.active?n.active:n.i>n.active?n.active-n.i:-(n.i-n.active+t.children.length);return{transform:r?`${s} translate(${g})`:`${s}`,zIndex:m}},dt=({translate:t})=>({transform:t}),lt=({node:t,child:n,options:e})=>{let s=n.index===e.index,a=n.exp,r=-n.turn,b=-n.turn,f=n.exp,g=-e.position,m=-n.turn,i=s?t.children.length-n.index:n.index<e.index?n.index-t.children.length:t.children.length-n.index-1;return{transform:`matrix(${a}, ${r}, ${b}, ${f}, ${g}, ${m})`,zIndex:i}},vt=({node:t,child:n,options:e,translate:s})=>{t.style.perspective=`${t.offsetWidth}px`;let a=e.snap==="deck",b=n.i===n.active?n.active:n.i>n.active?n.active-n.i:n.i-t.children.length+1,f=a?`scale(${n.exp})`:`translateZ(${-Math.abs(n.track)}px)`;return{transform:s+f,zIndex:b}},bt=({node:t,child:n,options:e,translate:s})=>{t.style.perspective=`${t.offsetWidth}px`;let a=e.snap==="deck",r=n.turn/(a?-2:-4),b=e.vertical?`rotateX(${r}turn)`:`rotateY(${-r}turn)`,f=Math.abs(r)<.25;return{transform:s+b,zIndex:f?0:-1,opacity:f||!a?1:0}},xt=({node:t,child:n,options:e,translate:s})=>{t.style.perspective=`${t.offsetWidth}px`;let a=n.index===e.index,r=n.size/10,b=Math.abs(n.track*2)>=n.size/2,f=a?b?n.size+n.track:-n.track*2:-n.track/r,g=e.vertical?0:f,m=e.vertical?f:0,i=-Math.abs(n.track)/(r/2),d=a?-n.track/r:-n.track/(r*2),k=a?(n.size-Math.abs(n.track/2))/n.size:1,w=a?n.active:n.i>n.active?n.active-n.i:1-t.children.length-n.i;return{transform:s+`translate3d(${g}px, ${m}px, ${i}px) rotateZ(${d}deg) scale(${k})`,zIndex:w}};var G={};R(G,{back:()=>Tt,bounce:()=>wt,circ:()=>$t,cubic:()=>Et,elastic:()=>Ot,expo:()=>At,linear:()=>gt,quad:()=>yt,quart:()=>kt,quint:()=>Mt,sine:()=>ht});var gt=t=>t,yt=t=>t*t,Et=t=>t*t*t,kt=t=>t*t*t*t,Mt=t=>t*t*t*t*t,wt=t=>1-(e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375)(1-t),ht=t=>1-Math.cos(t*Math.PI/2),At=t=>t===0?0:Math.pow(2,10*t-10),Ot=t=>{let n=2*Math.PI/3;return t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*n)},$t=t=>1-Math.sqrt(1-Math.pow(t,2)),Tt=t=>2.70158*t*t*t-1.70158*t*t;function B({queries:t,getter:n,cookie:e}){let s=new Set,a={};if(typeof window=="object")for(let m in t){let i=window.matchMedia(t[m]);r(i,m),i.onchange=d=>r(d,m)}function r(m,i){a[i]=m.matches,b(a),n&&n(a),e&&(document.cookie=`media=${JSON.stringify(a)}`)}function b(m){s.forEach(i=>i(m))}function f(m){return m(a),s.add(m),()=>g(m)}let g=m=>s.delete(m);return{matches:a,subscribe:f}}return Xt(Wt);})();
