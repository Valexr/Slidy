/* globals */

.slidy *,
.slidy *:before,
.slidy *:after {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

/* carousel */

.slidy {
	position: relative;
	display: grid;
	grid-template: minmax(0, 1fr) / auto minmax(0, 1fr) auto;
	grid-template-areas:
		"prev-slide slides next-slide"
		"progress progress progress"
		"thumbnail thumbnail thumbnail"
		"dots dots dots";
	gap: 0.75rem;
	height: var(--slidy-height, 100%);
	width: var(--slidy-width, 100%);
	overflow: hidden;
	overscroll-behavior: contain;
}

/* overlay */

.slidy-overlay {
	grid-area: slides;
	position: relative;
	inset: 0;
	z-index: 3;
	pointer-events: none;
}

/* slides */

.slidy-slides {
	grid-row: 1;
	grid-column: 1 / -1;

	min-height: 0;
	position: relative;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	gap: var(--slidy-slide-gap, 1rem);
	width: 100%;
	height: 100%;
	max-width: 100%;
	list-style: none;
}

.slidy-slide {
	display: flex;
	place-content: center;
	align-items: center;
	flex-shrink: 0;
	width: var(--slidy-slide-width, auto);
	height: var(--slidy-slide-height, 100%);
	aspect-ratio: var(--slidy-slide-aspect-ratio, unset);
	transition: opacity var(--slidy-duration, 450);
	max-width: 100%;
}

.slidy-slide.background {
	background-image: var(--_slidy-slide-bg);
	background-repeat: no-repeat;
	background-attachment: scroll;
	background-position: center;
	background-size: var(--slidy-slide-object-fit, cover);
	background-color: transparent;
}

/* counter */

.slidy-counter {
	position: absolute;
	top: 1em;
	right: 1em;
	width: fit-content;
	height: min-content;
	font-family: inherit;
	background-color: rgb(59 78 78 / 0.75);
	padding: 0.25em 0.5em;
	border-radius: 10px;
	user-select: none;
}

/* mode::vertical */

.slidy.vertical {
	display: grid;
	grid-template: auto minmax(0, 1fr) auto auto / minmax(0, 1fr) auto auto;
	grid-template-areas:
		"prev-slide progress dots"
		"slides progress dots"
		"next-slide progress dots"
		"thumbnail thumbnail thumbnail";
	height: var(--slidy-height, 100%);
	width: var(--slidy-width, 100%);
}

.slidy.vertical  > .slidy-slides {
	grid-row: 1 / -2;
	grid-column: 1;

	flex-flow: column nowrap;
	width: var(--slidy-slide-width, 100%);
	height: var(--slidy-slide-height, auto);
}

.slidy.vertical > .slidy-nav {
	width: auto;
	height: max-content;
}

/* mode::thumbnail */

.slidy-thumbnail {
	grid-area: thumbnail;
	justify-self: center;

	--slidy-slide-aspect-ratio: 1 / 1;
	--slidy-height: var(--slidy-thumbnail-size, 50px);
	--slidy-width: 100%;
	--slidy-slide-gap: 0.5rem;
}

.slidy.thumbnail {
	gap: unset;
}

.slidy.thumbnail .slidy-slide:not(.active) {
	transition: opacity 0.25s linear;
	opacity: 0.35;
}

.slidy.thumbnail img {
	border-radius: var(--slidy-thumbnail-radius, 0.5rem);
}

/* media */

@media (hover: hover) {
	/* as slides container has 'pointer-events: none', we have to use it on slidy */
	.slidy:hover {
		cursor: grab;
	}

	.slidy:active {
		cursor: grabbing;
	}

	.slidy-nav {
		cursor: auto;
	}
}
